<body>
    <div class="container">
        <div class="chat-container" id="chatContainer">
            <h3>Chat</h3>
            <p>Le chat apparaîtra ici.</p>
        </div>
    </div>

    <!-- Scripts Firebase et votre code JavaScript -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDejZmhxJ-wjwJ3-nE2I43vMmhRqgqhcxA",
            authDomain: "divagame-97e7c.firebaseapp.com",
            projectId: "divagame-97e7c",
            storageBucket: "divagame-97e7c.appspot.com",
            messagingSenderId: "253959990116",
            appId: "1:253959990116:web:506a1d0cdf752823656871"
        };

        // Initialise Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        async function displayMessages() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.innerHTML = '<h3>Chat</h3>';
            
            db.collection('Messages').orderBy('timestamp', 'desc').onSnapshot(snapshot => {
                chatContainer.innerHTML = '<h3>Chat</h3>'; // Réinitialise le contenu
                snapshot.forEach(doc => {
                    const messageData = doc.data();
                    const messageElement = document.createElement('p');
                    messageElement.innerHTML = `<strong style="color: ${messageData.color || '#000000'};">${messageData.username}:</strong> ${messageData.message}`;
                    chatContainer.appendChild(messageElement);
                });
            });
        }

        // Appel à la fonction pour afficher les messages lors du chargement de la page
        displayMessages();
    </script>
</body>
